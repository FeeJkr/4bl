{% extends 'finances/dashboard.html.twig' %}

{% block submodules %}
    <div class="mt-3">
        <form method="POST" action="{{ path('finances.category.create') }}">
            <div class="d-grid gap-2 col-6 mx-auto">
                <div class="mb-1">
                    <div class="d-grid">
                        <div class="input-group">
                            <span class="input-group-text col-5">Category name</span>
                            <input type="text" aria-label="Category name" name="categoryName" class="form-control col-7">
                        </div>
                    </div>
                </div>
                <div class="mb-1">
                    <div class="d-grid">
                        <div class="input-group">
                            <span class="input-group-text col-5">Category type</span>
                            <select aria-label="Category type" name="categoryType" class="form-control col-7">
                                <option value="expense">Expense</option>
                                <option value="income">Income</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="mb-1">
                    <div class="d-grid">
                        <div class="input-group">
                            <span class="input-group-text col-5">Icon</span>
                            <input class="form-control text-center col-2" name="categoryIcon" style="font-size: 30px" id="emoji-picker" type="text">
                            <button id="toggle" class="btn btn-primary icon-picker col-5">Click to choose</button>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-success">Submit</button>
            </div>
        </form>
    </div>
{% endblock %}

{% block js %}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/jquery.emojipicker.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/jquery.emojipicker.a.css') }}">

    <script type="text/javascript" src="{{ asset('js/jquery.emojipicker.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/jquery.emojis.js') }}"></script>

    <script>
        $(function() {
            $('#emoji-picker').emojiPicker({
                width: '500px',
                height: '300px',
                button: false,
                onShow: function () {
                    $('#emoji-picker').val(null);
                },
            });

            $('#toggle').click(function(e) {
                e.preventDefault();
                $('#emoji-picker').emojiPicker('toggle');
            });

            $("#emoji-picker").on("keyup", function () {
                $('#emoji-picker').emojiPicker('toggle');
            });
        });
    </script>
{% endblock %}